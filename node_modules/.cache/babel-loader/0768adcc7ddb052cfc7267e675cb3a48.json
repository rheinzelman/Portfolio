{"ast":null,"code":"import _objectSpread from\"/home/ray/Documents/ReactPortfolio/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/ray/Documents/ReactPortfolio/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ray/Documents/ReactPortfolio/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/ray/Documents/ReactPortfolio/portfolio/node_modules/@babel/runtime/regenerator/index.js\";import React,{ChangeEvent,FormEvent,useRef,useState}from\"react\";import axios from'axios';import ReCAPTCHA from\"react-google-recaptcha\";import'./Footer.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Footer=function Footer(){var formID=\"HdX8sO1w\";var formSparkURL='https://submit-form.com/'+formID;var recaptchaKey='6LfO5uYdAAAAAE1H4IQOsavPsVK3o8UWDVLzHoy0';var recaptchaRef=useRef();var initialFormState={email:'',name:'',message:''};var _useState=useState(initialFormState),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];// eslint-disable-next-line no-undef\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitting=_useState4[0],setSubmitting=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),recaptchaToken=_useState8[0],setRecaptchaToken=_useState8[1];var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setSubmitting(true);_context.next=4;return postSubmission();case 4:setSubmitting(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();var postSubmission=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var payload,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_objectSpread(_objectSpread({},formState),{},{\"g-recaptcha-response\":recaptchaToken});_context2.prev=1;_context2.next=4;return axios.post(formSparkURL,payload);case 4:result=_context2.sent;console.log(result);setMessage({class:'',text:\"Thanks, I'll get back to you ASAP\"});setFormState(initialFormState);recaptchaRef.current.reset();_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);setMessage({class:'',text:\"Sorry, I suck at computers and sending messages is broken...\"});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,11]]);}));return function postSubmission(){return _ref2.apply(this,arguments);};}();var updateFormControl=function updateFormControl(event){var _event$target=event.target,id=_event$target.id,value=_event$target.value;var formKey=id;var updatedFormState=_objectSpread({},formState);updatedFormState[formKey]=value;setFormState(updatedFormState);};var updateRecaptchaToken=function updateRecaptchaToken(token){setRecaptchaToken(token);};var onloadCallback=function onloadCallback(){console.log('test');};return/*#__PURE__*/_jsx(\"div\",{id:\"footer-div\",className:\"mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"contact-div\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"script\",{src:\"https://www.google.com/recaptcha/api.js\",async:true,defer:true}),message&&/*#__PURE__*/_jsx(\"div\",{className:'${message.class}',children:message.text}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitForm,className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"contact\",className:\"formSection\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name'\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:updateFormControl,type:\"text\",id:\"name\",value:formState.name,className:\"form-control\",placeholder:\"Enter your name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formSection\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email'\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:updateFormControl,type:\"text\",id:\"email\",value:formState.email,className:\"form-control\",placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formSection pb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message'\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",onChange:updateFormControl,value:formState.message,className:\"form-control\",placeholder:\"enter your message\"})]}),/*#__PURE__*/_jsx(ReCAPTCHA,{className:\"pb-2\",ref:recaptchaRef,sitekey:recaptchaKey,onChange:updateRecaptchaToken}),/*#__PURE__*/_jsx(\"button\",{disabled:submitting,className:\"btn btn-primary\",children:submitting?'Submitting...':'Submit'})]}),/*#__PURE__*/_jsx(\"div\",{id:\"copyright\",className:\"mt-3 mb-3\",children:\"copyright goes here\"})]})});};export default Footer;","map":{"version":3,"sources":["/home/ray/Documents/ReactPortfolio/portfolio/src/components/Footer/Footer.js"],"names":["React","ChangeEvent","FormEvent","useRef","useState","axios","ReCAPTCHA","Footer","formID","formSparkURL","recaptchaKey","recaptchaRef","initialFormState","email","name","message","formState","setFormState","submitting","setSubmitting","setMessage","recaptchaToken","setRecaptchaToken","submitForm","event","preventDefault","postSubmission","payload","post","result","console","log","class","text","current","reset","updateFormControl","target","id","value","formKey","updatedFormState","updateRecaptchaToken","token","onloadCallback"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, FormEvent, useRef, useState } from \"react\";\nimport axios from 'axios'\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport './Footer.css'\n\ntype FormState = {\n    email: string;\n    name: string;\n    message: string;\n}\n\ntype ServiceMessage = {\n    class: string;\n    text: string;\n}\n\nconst Footer = () => {\n\n    const formID = \"HdX8sO1w\";\n    const formSparkURL = 'https://submit-form.com/' + formID\n    const recaptchaKey = '6LfO5uYdAAAAAE1H4IQOsavPsVK3o8UWDVLzHoy0'\n    const recaptchaRef = useRef();\n\n    const initialFormState = {\n        email: '',\n        name: '',\n        message: '',\n    }\n\n    const [formState, setFormState] = useState(initialFormState);\n    // eslint-disable-next-line no-undef\n    const [submitting, setSubmitting] = useState(false);\n    const [message, setMessage] = useState();\n    const [recaptchaToken, setRecaptchaToken] = useState();\n\n    const submitForm = async (event: FormEvent) => {\n        event.preventDefault();\n        setSubmitting(true);\n        await postSubmission();\n        setSubmitting(false);\n    }\n\n    const postSubmission = async () => {\n        const payload = {\n            ...formState,\n            \"g-recaptcha-response\": recaptchaToken,\n        }\n\n        try {\n            const result = await axios.post(formSparkURL, payload);\n            console.log(result)\n            setMessage({\n                class: '',\n                text: \"Thanks, I'll get back to you ASAP\",\n            })\n            setFormState(initialFormState);\n            recaptchaRef.current.reset();\n        } catch(error){\n            console.log(error)\n            setMessage({\n                class: '',\n                text: \"Sorry, I suck at computers and sending messages is broken...\",\n            })\n        }\n    }\n\n    const updateFormControl = (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { id, value } = event.target;\n        const formKey = id;\n        const updatedFormState = {...formState};\n        updatedFormState[formKey] = value;\n        setFormState(updatedFormState);\n    }\n\n    const updateRecaptchaToken = (token: string | null) => {\n        setRecaptchaToken(token);\n    }\n\n    const onloadCallback = () => {\n        console.log('test')\n    }\n\n    return (\n        <div id=\"footer-div\" className=\"mt-3\">\n            <div id=\"contact-div\">\n\n                <h3>Contact</h3>\n\n                <script src=\"https://www.google.com/recaptcha/api.js\" async defer></script>\n\n                {message && <div className={'${message.class}'}>\n                    {message.text}\n                </div>}\n\n                <form onSubmit={submitForm} className=\"\">\n\n                    <div id=\"contact\" className=\"formSection\">\n                        <label htmlFor={\"name'\"}>Name</label>\n                        <input onChange={updateFormControl} type={\"text\"} id={\"name\"} value={formState.name} className=\"form-control\" placeholder=\"Enter your name\" />\n                    </div>\n\n                    <div className=\"formSection\">\n                        <label htmlFor={\"email'\"}>Email</label>\n                        <input onChange={updateFormControl} type={\"text\"} id={\"email\"} value={formState.email} className=\"form-control\" placeholder=\"Enter your email\" />\n                    </div>\n\n                    <div className=\"formSection pb-2\">\n                        <label htmlFor={\"message'\"}>Message</label>\n                        <textarea id={\"message\"} onChange={updateFormControl} value={formState.message} className=\"form-control\" placeholder=\"enter your message\"/>\n                    </div>\n\n                    <ReCAPTCHA\n                        className=\"pb-2\"\n                        ref={recaptchaRef}\n                        sitekey={recaptchaKey}\n                        onChange={updateRecaptchaToken}\n                    />\n\n                    <button disabled={submitting} className={\"btn btn-primary\"}>\n                        {submitting ? 'Submitting...': 'Submit'}\n                    </button>\n\n                </form>\n\n                <div id=\"copyright\" className=\"mt-3 mb-3\">copyright goes here</div>\n\n            </div>\n        </div>\n\n    );\n};\n\nexport default Footer"]},"metadata":{},"sourceType":"module"}