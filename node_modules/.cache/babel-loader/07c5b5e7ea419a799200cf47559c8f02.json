{"ast":null,"code":"import 'whatwg-fetch';\nimport { useState } from 'react';\nvar BASE_URL = 'https://submit-form.com';\n\nvar useFormspark = function useFormspark(args) {\n  var _useState = useState(false),\n      submitting = _useState[0],\n      setSubmitting = _useState[1];\n\n  var submit = function submit(payload) {\n    return new Promise(function (resolve, reject) {\n      var url = BASE_URL + \"/\" + args.formId;\n      var method = 'POST';\n      var headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      };\n      var body = JSON.stringify(payload);\n      setSubmitting(true);\n      fetch(url, {\n        method: method,\n        headers: headers,\n        body: body\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        resolve(json);\n      })[\"catch\"](function (error) {\n        reject(error);\n      })[\"finally\"](function () {\n        setSubmitting(false);\n      });\n    });\n  };\n\n  return [submit, submitting];\n};\n\nexport { useFormspark };","map":{"version":3,"sources":["/home/ray/Documents/ReactPortfolio/portfolio/node_modules/@formspark/use-formspark/src/index.ts"],"names":["BASE_URL","useFormspark","submitting","setSubmitting","useState","submit","url","args","method","headers","Accept","body","JSON","fetch","response","resolve","reject"],"mappings":";;AAKA,IAAMA,QAAQ,GAAd,yBAAA;;IAEaC,YAAY,GAAG,SAAfA,YAAe,CAAA,IAAA,EAAA;AAC1B,MAAA,SAAA,GAAoCG,QAAQ,CAA5C,KAA4C,CAA5C;AAAA,MAAOF,UAAP,GAAA,SAAA,CAAA,CAAA,CAAA;AAAA,MAAmBC,aAAnB,GAAA,SAAA,CAAA,CAAA,CAAA;;AAEA,MAAME,MAAM,GAAG,SAATA,MAAS,CAAA,OAAA,EAAA;AACb,WAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAA,MAAA,EAAA;AACjB,UAAMC,GAAG,GAAMN,QAAN,GAAA,GAAMA,GAAYO,IAAI,CAA/B,MAAA;AACA,UAAMC,MAAM,GAAZ,MAAA;AACA,UAAMC,OAAO,GAAG;AACdC,QAAAA,MAAM,EADQ,kBAAA;AAEd,wBAAgB;AAFF,OAAhB;AAIA,UAAMC,IAAI,GAAGC,IAAI,CAAJA,SAAAA,CAAb,OAAaA,CAAb;AACAT,MAAAA,aAAa,CAAbA,IAAa,CAAbA;AACAU,MAAAA,KAAK,CAAA,GAAA,EAAM;AACTL,QAAAA,MAAM,EADG,MAAA;AAETC,QAAAA,OAAO,EAFE,OAAA;AAGTE,QAAAA,IAAI,EAAJA;AAHS,OAAN,CAALE,CAAAA,IAAAA,CAKQ,UAAA,QAAA,EAAQ;AAAA,eAAIC,QAAQ,CAAZ,IAAIA,EAAJ;AALhBD,OAAAA,EAAAA,IAAAA,CAMQ,UAAA,IAAA,EAAI;AACRE,QAAAA,OAAO,CAAPA,IAAO,CAAPA;AAPJF,OAAAA,EAAAA,OAAAA,EASS,UAAA,KAAA,EAAK;AACVG,QAAAA,MAAM,CAANA,KAAM,CAANA;AAVJH,OAAAA,EAAAA,SAAAA,EAYW,YAAA;AACPV,QAAAA,aAAa,CAAbA,KAAa,CAAbA;AAbJU,OAAAA;AATF,KAAO,CAAP;AADF,GAAA;;AA4BA,SAAO,CAAA,MAAA,EAAP,UAAO,CAAP;AACD,C","sourcesContent":["import 'whatwg-fetch';\n\nimport { useState } from 'react';\nimport { Args, SubmitPayload } from './types/use-formspark';\n\nconst BASE_URL = 'https://submit-form.com';\n\nexport const useFormspark = (args: Args) => {\n  const [submitting, setSubmitting] = useState(false);\n\n  const submit = (payload: SubmitPayload) => {\n    return new Promise((resolve, reject) => {\n      const url = `${BASE_URL}/${args.formId}`;\n      const method = 'POST';\n      const headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      };\n      const body = JSON.stringify(payload);\n      setSubmitting(true);\n      fetch(url, {\n        method,\n        headers,\n        body,\n      })\n        .then(response => response.json())\n        .then(json => {\n          resolve(json);\n        })\n        .catch(error => {\n          reject(error);\n        })\n        .finally(() => {\n          setSubmitting(false);\n        });\n    });\n  };\n\n  return [submit, submitting] as const;\n};\n\nexport * from './types/use-formspark';\n"]},"metadata":{},"sourceType":"module"}