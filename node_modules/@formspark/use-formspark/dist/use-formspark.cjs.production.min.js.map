{"version":3,"file":"use-formspark.cjs.production.min.js","sources":["../src/index.ts"],"sourcesContent":["import 'whatwg-fetch';\n\nimport { useState } from 'react';\nimport { Args, SubmitPayload } from './types/use-formspark';\n\nconst BASE_URL = 'https://submit-form.com';\n\nexport const useFormspark = (args: Args) => {\n  const [submitting, setSubmitting] = useState(false);\n\n  const submit = (payload: SubmitPayload) => {\n    return new Promise((resolve, reject) => {\n      const url = `${BASE_URL}/${args.formId}`;\n      const method = 'POST';\n      const headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      };\n      const body = JSON.stringify(payload);\n      setSubmitting(true);\n      fetch(url, {\n        method,\n        headers,\n        body,\n      })\n        .then(response => response.json())\n        .then(json => {\n          resolve(json);\n        })\n        .catch(error => {\n          reject(error);\n        })\n        .finally(() => {\n          setSubmitting(false);\n        });\n    });\n  };\n\n  return [submit, submitting] as const;\n};\n\nexport * from './types/use-formspark';\n"],"names":["args","useState","setSubmitting","payload","Promise","resolve","reject","url","BASE_URL","formId","body","JSON","stringify","fetch","method","headers","Accept","then","response","json","error"],"mappings":"wIAO4B,SAACA,SACSC,YAAS,GAA1BC,aA8BZ,CA5BQ,SAACC,UACP,IAAIC,SAAQ,SAACC,EAASC,OACrBC,EAASC,2BAAYR,EAAKS,OAM1BC,EAAOC,KAAKC,UAAUT,GAC5BD,GAAc,GACdW,MAAMN,EAAK,CACTO,OARa,OASbC,QARc,CACdC,OAAQ,kCACQ,oBAOhBN,KAAAA,IAECO,MAAK,SAAAC,UAAYA,EAASC,UAC1BF,MAAK,SAAAE,GACJd,EAAQc,aAEH,SAAAC,GACLd,EAAOc,eAEA,WACPlB,GAAc"}