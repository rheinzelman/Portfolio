{"version":3,"file":"use-formspark.esm.js","sources":["../src/index.ts"],"sourcesContent":["import 'whatwg-fetch';\n\nimport { useState } from 'react';\nimport { Args, SubmitPayload } from './types/use-formspark';\n\nconst BASE_URL = 'https://submit-form.com';\n\nexport const useFormspark = (args: Args) => {\n  const [submitting, setSubmitting] = useState(false);\n\n  const submit = (payload: SubmitPayload) => {\n    return new Promise((resolve, reject) => {\n      const url = `${BASE_URL}/${args.formId}`;\n      const method = 'POST';\n      const headers = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      };\n      const body = JSON.stringify(payload);\n      setSubmitting(true);\n      fetch(url, {\n        method,\n        headers,\n        body,\n      })\n        .then(response => response.json())\n        .then(json => {\n          resolve(json);\n        })\n        .catch(error => {\n          reject(error);\n        })\n        .finally(() => {\n          setSubmitting(false);\n        });\n    });\n  };\n\n  return [submit, submitting] as const;\n};\n\nexport * from './types/use-formspark';\n"],"names":["BASE_URL","useFormspark","args","useState","submitting","setSubmitting","submit","payload","Promise","resolve","reject","url","formId","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","error"],"mappings":";;;AAKA,IAAMA,QAAQ,GAAG,yBAAjB;IAEaC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD;AAC1B,kBAAoCC,QAAQ,CAAC,KAAD,CAA5C;AAAA,MAAOC,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,MAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD;AACb,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AACjB,UAAMC,GAAG,GAAMX,QAAN,SAAkBE,IAAI,CAACU,MAAhC;AACA,UAAMC,MAAM,GAAG,MAAf;AACA,UAAMC,OAAO,GAAG;AACdC,QAAAA,MAAM,EAAE,kBADM;AAEd,wBAAgB;AAFF,OAAhB;AAIA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeX,OAAf,CAAb;AACAF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAc,MAAAA,KAAK,CAACR,GAAD,EAAM;AACTE,QAAAA,MAAM,EAANA,MADS;AAETC,QAAAA,OAAO,EAAPA,OAFS;AAGTE,QAAAA,IAAI,EAAJA;AAHS,OAAN,CAAL,CAKGI,IALH,CAKQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OALhB,EAMGF,IANH,CAMQ,UAAAE,IAAI;AACRb,QAAAA,OAAO,CAACa,IAAD,CAAP;AACD,OARH,WASS,UAAAC,KAAK;AACVb,QAAAA,MAAM,CAACa,KAAD,CAAN;AACD,OAXH,aAYW;AACPlB,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD,OAdH;AAeD,KAxBM,CAAP;AAyBD,GA1BD;;AA4BA,SAAO,CAACC,MAAD,EAASF,UAAT,CAAP;AACD;;;;"}